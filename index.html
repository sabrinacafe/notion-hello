<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Life Preview</title>
  <style>
  :root {
    color-scheme: light dark;
    --fg: #000; --ring: #000;
  }
  @media (prefers-color-scheme: dark) {
    :root { --fg:#fff; --ring:#fff; }
  }

  html,body{height:100%;margin:0}
  body{
    background: transparent !important;   /* fundo do iframe */
    display:flex;align-items:stretch;justify-content:stretch;
    color:var(--fg);
    font-family:"Times New Roman", Georgia, serif;
  }

  /* Ocupa 100% do iframe, sem respiro */
  .wrap{width:100%;padding:0;margin:0}
  .card{
    height:100%;
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    border:3px solid var(--ring);
    border-radius:12px;                   /* raio parecido com o do Notion */
    padding:24px 18px;
    background: transparent;
    color: var(--fg);
    box-sizing: border-box;
  }
  .greet{font-size:clamp(28px,5vw,48px);margin:0 0 8px;letter-spacing:.06em}
  .date{margin:0 0 12px;letter-spacing:.18em;font-size:14px;opacity:.9}
  .clock{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;letter-spacing:.35em;font-size:14px;margin:0}
</style>

</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1 id="greet" class="greet">Good Morning</h1>
      <p id="date" class="date"></p>
      <p id="clock" class="clock"></p>
    </div>
  </div>

  <script>
    const params = new URLSearchParams(location.search);
    const NAME = params.get("name") || "Sabrina";

    const elGreet = document.getElementById("greet");
    const elDate  = document.getElementById("date");
    const elClock = document.getElementById("clock");

    function updateGreeting(now){
      const h = now.getHours();
      const text = (h < 12) ? `Good Morning ${NAME}`
                 : (h < 17) ? `Good Afternoon ${NAME}`
                 :            `Good Evening ${NAME}`;
      elGreet.textContent = text;
    }

    function fmtDate(d){
      const opts = { weekday:'long', year:'numeric', month:'long', day:'2-digit' };
      return new Intl.DateTimeFormat('en-US', opts).format(d).toUpperCase();
    }

    function fmtClock(d){
      const pad = n => String(n).padStart(2,'0');
      return `${pad(d.getHours())} : ${pad(d.getMinutes())} : ${pad(d.getSeconds())}`;
    }

    function tick(){
      const now = new Date();
      updateGreeting(now);             // muda Morning/Afternoon/Evening conforme hora
      elDate.textContent  = fmtDate(now);
      elClock.textContent = fmtClock(now);
    }

    tick();                // inicial
    setInterval(tick, 1000); // atualiza todo segundo (troca de per√≠odo ao virar a hora)
  </script>
</body>
</html>
